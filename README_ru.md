# rzv_de_series_s01e01

![Main cover](./images/s01e01.jpg)

## üìΩÔ∏è –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –∫—É—Ä—Å!
–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π –æ—Ç–∫—Ä—ã—Ç—ã–π —ç–ø–∏–∑–æ–¥ —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞ rzv Data engineering series. –í—ã–±–µ—Ä–∏, –∫–∞–∫–æ–π —Å–µ—Ä–∏–∞–ª —Ç—ã –≤–∫–ª—é—á–∏—à—å —Å–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º -- —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–ª–µ—á—ë—Ç —Ç–µ–±—è –æ—Ç –∂–∏–∑–Ω–∏, –∏–ª–∏ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–∞—Å—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å–≤–æ–∏—Ç—å –Ω–∞–≤—ã–∫–∏ –∏ —Ç–≤–æ—Ä–∏—Ç—å!

–ö—É—Ä—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ self-paced —Ñ–æ—Ä–º–∞—Ç–µ, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. –û–∂–∏–¥–∞—é, —á—Ç–æ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã –±—É–¥–µ—à—å –∏—Å–∫–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏ –æ–±—Å—É–∂–¥–∞—Ç—å –≤ [–æ–±—â–µ–º —á–∞—Ç–µ](https://t.me/rzv_de_series). –ö –∑–∞–¥–∞—á–∞–º –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å Middle. –ó–∞–¥–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –Ω–∞ —Ä–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏. –ù–∞—á–Ω–∏ —Å —Ç–æ–≥–æ, –≥–¥–µ –±—É–¥–µ—à—å –æ—â—É—â–∞—Ç—å —Å–µ–±—è –Ω–∞–∏–±–æ–ª–µ–µ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ, –∏ –¥–≤–∏–≥–∞–π—Å—è –Ω–∞–≤–µ—Ä—Ö. –ß–µ–º –≤—ã—à–µ –≥—Ä–µ–π–¥, —Ç–µ–º –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–µ–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ -- —Ç—É—Ç –∫–∞–∫ –≤ –∂–∏–∑–Ω–∏.

–ù–∞–≤—ã–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –ø—Ä–∏–æ–±—Ä–µ—Ç–∞–µ—à—å –Ω–∞ –∫—É—Ä—Å–µ, –º–æ–∂–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –±–µ–∑ –ø–æ—Ç–µ—Ä—å –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –Ω–∞ —Ä–∞–±–æ—á—É—é –ø—Ä–∞–∫—Ç–∏–∫—É. –ò, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∫—É—Ä—Å–æ–≤, –∑–¥–µ—Å—å —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å —Å "–∂–∏–≤—ã–º–∏" –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (—Ö–æ—Ç—å –∏ —É–ø—Ä–æ—â—ë–Ω–Ω–æ). –ö –∫–æ–Ω—Ü—É –ø–µ—Ä–≤–æ–≥–æ —Å–µ–∑–æ–Ω–∞ —Å–µ—Ä–∏–∞–ª–∞ —Ç—ã —Å–º–æ–∂–µ—à—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –ø—Ä–æ—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –¥–∞—Ç–∞-–∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –∏—Ö —Ä–µ—à–µ–Ω–∏—è —Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏.

–ß–µ–º –¥–∞–ª—å—à–µ –ø–æ –∫—É—Ä—Å—É, —Ç–µ–º –±–æ–ª—å—à–µ –º–æ–¥—É–ª–µ–π –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –≤—Å–ª–µ–¥ –∑–∞ "—Ä–∞–∑–≤–∏—Ç–∏–µ–º –±–∏–∑–Ω–µ—Å–∞":
* –∑–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ API
* –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω –¥–∞–Ω–Ω—ã—Ö –∏ BI-–¥–∞—à–±–æ—Ä–¥–æ–≤
* –º–∏–≥—Ä–∞—Ü–∏—è ETL —Å Pandas –Ω–∞ Spark
* –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Data Quality –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
* –º–Ω–æ–≥–æ —á–µ–≥–æ –µ—â—ë

## ü•± –ö—Ä–∞—Ç–∫–æ
1. –°–¥–µ–ª–∞–π fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å–∫–ª–æ–Ω–∏—Ä—É–π –µ–≥–æ –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä
2. –£—Å—Ç–∞–Ω–æ–≤–∏ docker desktop
3. –°–ª–µ–¥—É–π —à–∞–≥–∞–º –∏–∑ [–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–∞–º](#database-connectivity-ru) –∏ [–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã](#deploying-infrastructure-locally-ru)
4. –í—ã–±–µ—Ä–∏ G0_Trainee, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —É–∂–µ –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –µ–≥–æ —Ä–∞–±–æ—Ç—É. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏ –≥—Ä–µ–π–¥—ã —Å G1, —á—Ç–æ–±—ã –æ—Å–≤–æ–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Airflow

## üé¨ –ß—Ç–æ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–µ–≥–æ–¥–Ω—è
–≠—Ç–æ –ø–µ—Ä–≤—ã–π —ç–ø–∏–∑–æ–¥, —Ä–∞—Å–∫—Ä—ã–≤–∞—é—â–∏–π –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ Apache Airflow. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á –Ω–∞ —É—Ä–æ–≤–Ω–µ Middle –∏ Senior —Ç—ã —Å—Ç–æ–ª–∫–Ω—ë—à—å—Å—è —Å–æ –º–Ω–æ–≥–∏–º–∏ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—á–µ–π –ø—Ä–∞–∫—Ç–∏–∫–µ. –ü—Ä–∏ —ç—Ç–æ–º, –¥–∞–∂–µ Junior –∏ Intern –ø–æ–∑–Ω–∞–∫–æ–º—è—Ç —Ç–µ–±—è —Å –Ω–æ–≤—ã–º–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º–∏ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤—è—Ç –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∑–∞–¥–∞—á–∞–º. 

–ü—Ä–∏–∑—ã–≤–∞—é —Å–Ω–∞—á–∞–ª–∞ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∞ –ø–æ—Ç–æ–º —Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–π –≤–∞—Ä–∏–∞–Ω—Ç.

–¢—ã –∏–∑—É—á–∏—à—å:
* –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Airflow
* –±–∞–∑–æ–≤—ã–π ETL —á–µ—Ä–µ–∑ Pandas
* —Ä–∞–±–æ—Ç—É —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SQL –∏ Python
* —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º —á–µ—Ä–µ–∑ Airflow –∏ pgAdmin4
* –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö —á–µ—Ä–µ–∑ Docker Compose

## üéûÔ∏è –í —Ä–æ–ª—è—Ö
![Stack used](./images/image-6.png)

* Python 3.10
* Postgres 15 (DWH)
* Pandas 2.1.4 (ETL)
* Apache Airflow 2.7.3 (Orchestrator)
* pgAdmin4 (DBMS client)
* Docker

## üë®üèª‚Äçü¶≤ üë¶üèª üßîüèª –°—Ü–µ–Ω–∞—Ä–∏–∏ –∑–∞–¥–∞–Ω–∏–π –∏ –≥—Ä–µ–π–¥—ã
–î–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è —Å–æ–∑–¥–∞–Ω–∞ —Å–≤–æ—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è. –° –∫–∞–∂–¥—ã–º –≥—Ä–µ–π–¥–æ–º —è —É–º–µ–Ω—å—à–∞—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ç–æ–≤–æ–≥–æ –∫–æ–¥–∞ –∏ —É—Å–ª–æ–∂–Ω—è—é –∑–∞–¥–∞—á—É. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è, –Ω–æ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ–∑–¥–µ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –î–µ—Ç–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –æ–ø–∏—Å–∞–Ω—ã –≤ ```README.md``` –∫–∞–∂–¥–æ–≥–æ –≥—Ä–µ–π–¥–∞. –í—ã–±–µ—Ä–∏ —Å–≤–æ–π –∏ –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Å—è —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

**Trainee**: –í–µ—Å—å –∫–æ–¥ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ —Ä–µ—à–∞–µ—Ç –∑–∞–¥–∞—á—É middle. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏ –∏ –∏–∑—É—á–∏. –¢–∞–º –∂–µ —Ä–∞—Å–ø–∏—Å–∞–ª, –ø–æ—á–µ–º—É —è –Ω–∞–ø–∏—Å–∞–ª –∫–æ–¥ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫.

**Intern**: –î–æ–ø–æ–ª–Ω–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π DAG –Ω–∞—á–∞–ª –≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∏ –ø–æ –Ω–æ–≤—ã–º —Ç–∞–±–ª–∏—Ü–∞–º. –ù–∞–ø–∏—à–∏ –ø—Ä–æ—Å—Ç–æ–π –¥–∞–≥ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —á–µ—Ä–µ–∑ BashOperator.

**Junior**: –ù–∞–ø–∏—à–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –±–µ–∑ —É—á—ë—Ç–∞ –∏—Å—Ç–æ—Ä–∏—á–Ω–æ—Å—Ç–∏. –î–∞–Ω–Ω—ã–µ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–µ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è.

**Middle**: –ù–∞–ø–∏—à–∏ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –≤ —Ç–∞–±–ª–∏—Ü—ã SCD2. –£—á—Ç–∏, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–µ.

**Senior**: –°—Ü–µ–Ω–∞—Ä–∏–π –∫–∞–∫ –¥–ª—è Middle + –Ω–∞—Å—Ç—Ä–æ–π Write-Audit-Publish –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≤–µ–¥–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è.


## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –ø–æ–¥ –∫–∞—Ç–æ–º (—Ä–∞—Å–∫—Ä–æ–π, —á—Ç–æ–±—ã –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ —à–∞–≥–∞–º –∏ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é)


<details>
<summary>–ü—Ä–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–∞–º –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã </summary>

### –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö

–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ä–∞–±–æ—Ç—É –±—ç–∫–µ–Ω–¥-–±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ –ø—Ä–æ–¥–∞–∂–∏ —ç–∫–∑–æ—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—Ä—É–∫—Ç–æ–≤ —Å —É–ø—Ä–æ—â—ë–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö.

–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–æ–∂–Ω–æ –∑–¥–µ—Å—å: ```./deploy/env/shop-*.env``` –∏ ```./docker/generator/config.json```. –ù–µ –∑–∞–±—É–¥—å –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã, –Ω–∞—Ö–æ–¥—è—Å—å –≤ ```./deploy```: ```docker compose up -d --build shop-1 shop-2```.

<details>
<summary>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞</summary>
<br>

* –ß–µ—Ä–µ–∑ –ø–∞–∫–µ—Ç Faker –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü –≤ Postgres –±–∞–∑–µ
* –ú–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–∏–º–∏—Ç–∞—Ü–∏—è —Ñ–∏–ª–∏–∞–ª–æ–≤)
* –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ seed: ```GENERATOR_SEED```
* –£–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ä—à–µ –º–æ–º–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏ –• —á–µ—Ä–µ–∑ ```DELETE_OLDER_THAN_SEC```
* –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤ —Å—Ç—Ä–æ–∫–∞—Ö —Å —É–ø—Ä–∞–≤–ª—è–µ–º–æ–π –≥–ª—É–±–∏–Ω–æ–π –≤ –ø—Ä–æ—à–ª–æ–º: ```update_rows_per_tick, UPDATE_NOT_OLDER_THAN_SEC```
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è: ```STOP_GENERATOR_AFTER_SEC```
* –£–ø—Ä–∞–≤–ª—è–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (—á–µ—Ä–µ–∑ –≤—Ä–µ–º—è –º–µ–∂–¥—É —Ç–∏–∫–∞–º–∏): ```TICK_INTERVAL_SEC```
* –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è DEBUG –∏ —É–¥–æ–±–Ω–æ–µ —É—Ä–æ–≤–Ω—è INFO –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ: ```docker logs shop-1 -f``` –∏ –≤ ```./generator_app_data/logs```
</details>


### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–∞–º
<a name="database-connectivity-ru"></a>

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ ```./deploy/env/```. 
–í Airflow —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Admin - Connections –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏.

–°—Ö–µ–º—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏–∑—É—á–∏—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∏–∑ pgAdmin4 –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ –ø—Ä–æ–µ–∫—Ç—É –µ—Å—Ç—å –Ω–µ –≤—Å–µ–≥–¥–∞.


### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
<a name="deploying-infrastructure-locally-ru"></a>

1. –°–¥–µ–ª–∞–π —Ñ–æ—Ä–∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ —Å–∫–ª–æ–Ω–∏—Ä—É–π –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä: ```git clone https://github.com/%Username%/rzv_de_series_s01e01.git``` .
2. –£—Å—Ç–∞–Ω–æ–≤–∏ Docker Desktop (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ 4.26.1 (131620)). –ï—Å–ª–∏ –µ—â—ë –Ω–µ—Ç –ª—é–±–∏–º–æ–π IDE, –ø–æ—Å—Ç–∞–≤—å VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –¥–ª—è Python.
3. –û—Ç–∫—Ä–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–π –≤ VS Code, –ø–µ—Ä–µ–π–¥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å ```Ctrl+` ``` –∏ –ø–µ—Ä–µ–π–¥–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é ```deploy``` –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –≥—Ä–µ–π–¥–µ ```cd ./%Grade%/deploy```
4. –ü–æ–¥–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å—ã ```docker compose up -d```. Airflow –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–∫–æ–ª–æ –º–∏–Ω—É—Ç—ã. –ï—Å–ª–∏ —Ä–∞–Ω–µ–µ —É–∂–µ –¥–µ–ø–ª–æ–∏–ª–∏—Å—å –¥—Ä—É–≥–∏–µ –≥—Ä–µ–π–¥—ã, –∏ –≤ —Ç–µ–∫—É—â–µ–º —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ ```docker compose up -d --build shop-1 shop-2```.
5. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–µ—Ä–≤–∏—Å–æ–≤ —Å UI –∏ –∑–∞–ª–æ–≥–∏–Ω—å—Å—è
* Airflow: ```localhost:8080``` ; airflow/airflow
* pgAdmin4: ```localhost:80``` ; admin@admin.com/root
6. DAG'–∏ –∫–æ–ø–∏—Ä—É–π –∏–ª–∏ —Å—Ä–∞–∑—É —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –≤ ```./%Grade%/airflow_data/dags```, –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–¥—Ç—è–Ω—É—Ç—Å—è —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Å–µ–∫—É–Ω–¥, F5 –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω. –ù–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞–∫–µ—Ç—ã –∏ –º–æ–¥—É–ª–∏ —Å—Ç–∞–≤—å —á–µ—Ä–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ ```./%Grade%/docker/airflow/requirements.txt``` —Å –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ airflow (–Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç —Å–ª–µ—Ç–∞—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, —Å–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ) ```docker compose up -d --build af-scheduler```. 
7. –ù–∞—Å—Ç—Ä–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ ```Airflow``` —á–µ—Ä–µ–∑ Admin - Connections, –≤ Admin - Variables –¥–æ–±–∞–≤—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.
–ù–∞—Å—Ç—Ä–æ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ ```pgAdmin4``` —á–µ—Ä–µ–∑ Servers - Register - Server.
8. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ ```./%Grade%/generator_app_data/logs``` –∏–ª–∏ ```docker logs shop-1 -f```, –∏ –∑–∞–ø—É—Å–∫–∞–π DAG'–∏ —á–µ—Ä–µ–∑ unpause. –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å—é—Ç—Å—è –≤ ```pg-dwh``` –∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —á–µ—Ä–µ–∑ ```pgAdmin4```.

</details>

## –ì–∞–ª–µ—Ä–µ—è
–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å SCD2:
![Historical storage with SCD2](./images/image.png)

–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ Airflow:
![Incremental loading using airflow](./images/image-1.png)

–õ–æ–≥–∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ —Å —Ä–∞–∑–Ω–æ–π —Å—Ç–µ–ø–µ–Ω—å—é –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏:
![INFO logs](./images/image-3.png)
![DEBUG logs](./images/image-4.png)

–ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ –≤—Å–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º:
![Local infrastracture with all you've need](./images/image-5.png)


## üöß –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ, –Ω–æ –ø–æ–∫–∞ –Ω–µ —Ä–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
* –¢—Ä–µ–±—É–µ—Ç—Å—è 5-7 GB RAM –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ Win –∏ Mac (docker desktop —Ç—è–∂—ë–ª—ã–π + —Ä–∞–±–æ—Ç–∞–µ—Ç –º–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤). [–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–≤–µ–ª–∏—á–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –û–ó–£/—Ñ–∞–π–ª –ø–æ–¥–∫–∞—á–∫–∏](https://www.windowscentral.com/how-change-virtual-memory-size-windows-10).
* –ü—Ä–∏ –∫–∞–∂–¥–æ–º ```docker compose up``` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑—Ä–∏—É–µ—Ç—Å—è airflow. –î–∞–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –Ω–æ ```Connections``` –∏ ```Variables``` –Ω—É–∂–Ω–æ –≤–Ω–æ—Å–∏—Ç—å –∑–∞–Ω–æ–≤–æ.


## üë∑üèª –û–± –∞–≤—Ç–æ—Ä–µ
–†–∞–∑–≤–æ–¥–æ–≤ –ê–ª–µ–∫—Å–µ–π, Data engineer —Å 5+ –≥–æ–¥–∞–º–∏ –æ–ø—ã—Ç–∞ –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏. –°—Ç—Ä–µ–º–ª—é—Å—å –ø–µ—Ä–µ–¥–∞—Ç—å —Å–≤–æ—ë –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –¥–∞—Ç–∞ –∏–Ω–∂–µ–Ω–µ—Ä–æ–º –∏ –ø–æ–º–æ—á—å —Ç–µ–º, –∫—Ç–æ —Ä–∞–∑–≤–∏–≤–∞–µ—Ç—Å—è –Ω–∞ —ç—Ç–æ–º –ø—É—Ç–∏.

–ï—Å–ª–∏ —Ç–µ–±–µ –ø–æ–º–æ–≥ –∏ –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –ø–æ—Å—Ç–∞–≤—å –µ–º—É ‚≠ê –∏ –ø–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ —Å–æ—Ü—Å–µ—Ç–∏.
* [–ú–µ–Ω—Ç–æ—Ä](https://razvodov-mentorship-de.notion.site/About-me-and-mentorship_ru-06510bfd4bbd4dcba93c351df0ff4a0e)
* [–ê–≤—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞ –≤ tg –æ Data Engineering'e](https://t.me/rzv_de)
* [–ê–≤—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–π –≤ LinkedIn –æ Data Engineering'e](https://www.linkedin.com/in/razvodov-alexey/)
* [CV](https://docs.google.com/document/d/1tYi0s7yNsGl_Xts5CrHDegLvAtlHtz7jPSp074MfCyI/edit?usp=sharing)
* [–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏](https://t.me/razvodov_de_mentor)

<img src="images/photo.jpg" alt="Personal photo" width="300" style="display: block; margin: auto"/>
